<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î¶¨Î∑∞Î™®Ïùå</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 1000px;
            width: 100%;
        }
        
        h1 {
            color: #ff6b6b;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-align: center;
        }
        
        .reviews-container {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .review-item {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #ff6b6b;
            transition: all 0.3s ease;
        }
        
        .review-item:hover {
            background: #f5f5f5;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .review-rating {
            display: flex;
            gap: 5px;
        }
        
        .review-rating .star {
            font-size: 1.5em;
            color: #ffd700;
        }
        
        .review-date {
            color: #999;
            font-size: 0.9em;
        }
        
        .review-content {
            color: #333;
            font-size: 1.1em;
            line-height: 1.6;
            text-align: left;
            margin-bottom: 15px;
        }
        
        .reply-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e0e0e0;
        }
        
        .reply-list {
            margin-bottom: 10px;
        }
        
        .reply-item {
            background: white;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 8px;
            border-left: 3px solid #4ecdc4;
        }
        
        .reply-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .reply-author {
            font-weight: 600;
            color: #4ecdc4;
            font-size: 0.9em;
        }
        
        .reply-date {
            color: #999;
            font-size: 0.85em;
        }
        
        .reply-content {
            color: #555;
            font-size: 0.95em;
            text-align: left;
        }
        
        .reply-form {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .reply-form textarea {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            resize: vertical;
            min-height: 60px;
        }
        
        .reply-form textarea:focus {
            outline: none;
            border-color: #4ecdc4;
        }
        
        .reply-btn {
            padding: 10px 20px;
            background: #4ecdc4;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .reply-btn:hover {
            background: #44a08d;
            transform: translateY(-2px);
        }
        
        .empty-message {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.2em;
        }
        
        .back-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 30px;
            background: #ff6b6b;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
            width: 100%;
            text-align: center;
        }
        
        .back-btn:hover {
            background: #ee5a6f;
            transform: translateY(-2px);
        }
        
        .refresh-btn {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 20px;
            background: #ff6b6b;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9em;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .refresh-btn:hover {
            background: #ee5a6f;
            transform: translateY(-2px);
        }
        
        .settings-section {
            background: #fff9f9;
            border: 2px solid #ff6b6b;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .settings-title {
            color: #ff6b6b;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .settings-form {
            display: flex;
            gap: 10px;
        }
        
        .settings-form input,
        .settings-form textarea {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            resize: vertical;
        }
        
        .settings-form textarea {
            min-height: 100px;
        }
        
        .settings-form input:focus,
        .settings-form textarea:focus {
            outline: none;
            border-color: #ff6b6b;
        }
        
        .save-btn {
            padding: 12px 25px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .save-btn:hover {
            background: #ee5a6f;
            transform: translateY(-2px);
        }
        
        .settings-info {
            margin-top: 10px;
            color: #666;
            font-size: 1.17em;
        }
        
        .toggle-section {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .toggle-label {
            font-size: 1.1em;
            color: #333;
            font-weight: 600;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        .toggle-switch input:checked + .toggle-slider {
            background-color: #ff6b6b;
        }
        
        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }
        
        .toggle-status {
            font-size: 1.1em;
            font-weight: 600;
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        .toggle-status.active {
            color: #ff6b6b;
            background: #fff9f9;
        }
        
        .toggle-status.inactive {
            color: #999;
            background: #f5f5f5;
        }
        
        .delay-section {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .delay-label {
            font-size: 1.1em;
            color: #333;
            font-weight: 600;
        }
        
        .delay-buttons {
            display: flex;
            gap: 8px;
        }
        
        .delay-btn {
            padding: 8px 20px;
            border: 2px solid #ff6b6b;
            background: white;
            color: #ff6b6b;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }
        
        .delay-btn:hover {
            background: #fff9f9;
            transform: translateY(-2px);
        }
        
        .delay-btn.selected {
            background: #ff6b6b;
            color: white;
        }
        
        .delay-info {
            font-size: 1em;
            color: #666;
            margin-left: auto;
        }
        
        .filter-section {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 10px 25px;
            border: 2px solid #ff6b6b;
            background: white;
            color: #ff6b6b;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1em;
        }
        
        .filter-btn:hover {
            background: #fff9f9;
            transform: translateY(-2px);
        }
        
        .filter-btn.active {
            background: #ff6b6b;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåü Î¶¨Î∑∞Î™®Ïùå</h1>
        
        <div class="filter-section">
            <button class="filter-btn active" onclick="setFilter('all')" id="filterAll">Ï†ÑÏ≤¥Î≥¥Í∏∞</button>
            <button class="filter-btn" onclick="setFilter('pending')" id="filterPending">Îì±Î°ùÎåÄÍ∏∞ <span id="pendingCount" style="margin-left: 5px;"></span></button>
        </div>
        
        <div class="settings-section">
            <div class="settings-title">‚öôÔ∏è ÏûêÎèô ÎãµÍ∏Ä Í≥†Ï†ï Î¨∏Íµ¨ ÏÑ§Ï†ï</div>
            <div class="toggle-section" style="margin-bottom: 15px;">
                <span class="toggle-label">Í∞êÏ†ï Í∏∞Î∞ò ÏûêÎèô ÎãµÍ∏Ä:</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="aiReplyToggle" onchange="toggleAIReply()">
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-status inactive" id="aiToggleStatus">OFF</span>
            </div>
            <div class="toggle-section">
                <span class="toggle-label">ÏûêÎèô ÎãµÍ∏Ä ÌôúÏÑ±Ìôî:</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="autoReplyToggle" onchange="toggleAutoReply()">
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-status inactive" id="toggleStatus">OFF</span>
            </div>
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Í∞ÄÍ≤å ÏÑ†ÌÉù:</label>
                <select id="storeSelect" style="width: 100%; padding: 10px; border: 2px solid #ff6b6b; border-radius: 10px; font-size: 1em;" onchange="loadStoreAutoReply()">
                    <option value="ALL">Ï†ÑÏ≤¥ Í∞ÄÍ≤å</option>
                </select>
            </div>
            <div class="delay-section">
                <span class="delay-label">ÏßÄÏó∞ ÏãúÍ∞Ñ:</span>
                <div class="delay-buttons">
                    <button class="delay-btn" data-minutes="0" onclick="selectDelay(0)">ÏßÄÏó∞ÏãúÍ∞Ñ ÏóÜÏùå</button>
                    <button class="delay-btn" data-minutes="1" onclick="selectDelay(1)">1Î∂Ñ</button>
                    <button class="delay-btn" data-minutes="5" onclick="selectDelay(5)">5Î∂Ñ</button>
                    <button class="delay-btn" data-minutes="10" onclick="selectDelay(10)">10Î∂Ñ</button>
                </div>
                <span class="delay-info">ÏÑ†ÌÉù: <span id="selectedDelay">ÏóÜÏùå</span></span>
            </div>
            <div class="settings-form">
                <textarea id="autoReplyText" placeholder="ÏÉà Î¶¨Î∑∞Ïóê ÏûêÎèôÏúºÎ°ú Îã¨Î¶¥ ÎãµÍ∏Ä Î¨∏Íµ¨Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"></textarea>
                <button class="save-btn" onclick="saveAutoReply()">Ï†ÄÏû•</button>
            </div>
            <div class="settings-info" id="settingsInfo">
                ÌòÑÏû¨ ÏÑ§Ï†ïÎêú Î¨∏Íµ¨: <span id="currentSetting">ÏóÜÏùå</span>
            </div>
        </div>
        
        <button class="refresh-btn" onclick="loadReviews()">üîÑ ÏÉàÎ°úÍ≥†Ïπ®</button>
        
        <div class="reviews-container" id="reviewsContainer">
            <div class="empty-message">ÏïÑÏßÅ ÏûëÏÑ±Îêú Î¶¨Î∑∞Í∞Ä ÏóÜÏäµÎãàÎã§.</div>
        </div>
        
        <a href="index.html" class="back-btn">‚Üê Î©îÏù∏ Î©îÎâ¥Î°ú ÎèåÏïÑÍ∞ÄÍ∏∞</a>
    </div>
    
    <script>
        // ÌòÑÏû¨ ÌïÑÌÑ∞ ÏÉÅÌÉú
        let currentFilter = 'all';
        
        // ÏßÄÏó∞Îêú ÏûêÎèô ÎãµÍ∏Ä Ï≤¥ÌÅ¨ Ìï®Ïàò
        function checkPendingAutoReplies() {
            // Î©îÏù∏ Î°úÍ∑∏Ïù∏Í≥º Î∞∞Îã¨ÏùòÎØºÏ°± Î°úÍ∑∏Ïù∏ ÌôïÏù∏ (Îëò Îã§ ÌïÑÏàò)
            const mainUser = localStorage.getItem('currentUser');
            let mainUserId = null;
            let connectedStores = [];
            let git2UserId = null;
            
            if (mainUser) {
                const mainUserObj = JSON.parse(mainUser);
                mainUserId = mainUserObj.id;
                const git2User = localStorage.getItem(`git2_currentUser_${mainUserId}`);
                
                if (git2User) {
                    const git2UserObj = JSON.parse(git2User);
                    git2UserId = git2UserObj.id;
                    connectedStores = JSON.parse(localStorage.getItem(`so4_connectedStores_${mainUserObj.id}_${git2UserObj.id}`) || '[]');
                }
            }
            
            const storedReviews = mainUserId ? localStorage.getItem(`reviews_${mainUserId}`) : null;
            const storedGit2Reviews = git2UserId ? localStorage.getItem(`git2_reviews_${git2UserId}`) : null;
            
            let hasChanges = false;
            let git2HasChanges = false;
            const now = Date.now();
            
            // ÏùºÎ∞ò Î¶¨Î∑∞ Ï≤¥ÌÅ¨
            if (storedReviews && mainUserId) {
                const reviews = JSON.parse(storedReviews);
                reviews.forEach(review => {
                    // 1Ï∞® ÏûêÎèô ÎãµÍ∏Ä Ï≤¥ÌÅ¨
                    if (review.pendingAutoReply) {
                        if (now >= review.pendingAutoReply.scheduledTime) {
                            const autoReply = {
                                id: now + Math.random(),
                                author: 'Í¥ÄÎ¶¨Ïûê',
                                content: review.pendingAutoReply.text,
                                date: new Date().toLocaleString('ko-KR'),
                                isAuto: true
                            };
                            
                            if (!review.replies) {
                                review.replies = [];
                            }
                            review.replies.push(autoReply);
                            delete review.pendingAutoReply;
                            hasChanges = true;
                            
                            // 1Ï∞® ÎãµÍ∏Ä Ï∂îÍ∞Ä ÌõÑ 2Ï∞® ÎãµÍ∏Ä Ïä§ÏºÄÏ§ÑÎßÅ
                            scheduleSecondReply(review);
                        }
                    }
                    
                    // 2Ï∞® ÏûêÎèô ÎãµÍ∏Ä Ï≤¥ÌÅ¨
                    if (review.pendingSecondReply) {
                        if (now >= review.pendingSecondReply.scheduledTime) {
                            const secondReply = {
                                id: now + Math.random(),
                                author: 'Í¥ÄÎ¶¨Ïûê',
                                content: review.pendingSecondReply.text,
                                date: new Date().toLocaleString('ko-KR'),
                                isAuto: true
                            };
                            
                            if (!review.replies) {
                                review.replies = [];
                            }
                            review.replies.push(secondReply);
                            delete review.pendingSecondReply;
                            hasChanges = true;
                        }
                    }
                });
                
                if (hasChanges) {
                    localStorage.setItem(`reviews_${mainUserId}`, JSON.stringify(reviews));
                }
            }
            
            // git2 Î¶¨Î∑∞ Ï≤¥ÌÅ¨ (Ïó∞Í≤∞Îêú Í∞ÄÍ≤åÎßå)
            if (storedGit2Reviews && connectedStores.length > 0) {
                const git2Reviews = JSON.parse(storedGit2Reviews);
                git2Reviews.forEach(review => {
                    if (connectedStores.includes(review.storeId)) {
                        // 1Ï∞® ÏûêÎèô ÎãµÍ∏Ä Ï≤¥ÌÅ¨
                        if (review.pendingAutoReply) {
                            if (now >= review.pendingAutoReply.scheduledTime) {
                                const autoReply = {
                                    id: now + Math.random(),
                                    userName: 'Í¥ÄÎ¶¨Ïûê',
                                    content: review.pendingAutoReply.text,
                                    createdAt: new Date().toISOString(),
                                    isAuto: true
                                };
                                
                                if (!review.replies) {
                                    review.replies = [];
                                }
                                review.replies.push(autoReply);
                                delete review.pendingAutoReply;
                                git2HasChanges = true;
                                
                                // 1Ï∞® ÎãµÍ∏Ä Ï∂îÍ∞Ä ÌõÑ 2Ï∞® ÎãµÍ∏Ä Ïä§ÏºÄÏ§ÑÎßÅ
                                scheduleSecondReplyForGit2(review);
                            }
                        }
                        
                        // 2Ï∞® ÏûêÎèô ÎãµÍ∏Ä Ï≤¥ÌÅ¨
                        if (review.pendingSecondReply) {
                            if (now >= review.pendingSecondReply.scheduledTime) {
                                const secondReply = {
                                    id: now + Math.random(),
                                    userName: 'Í¥ÄÎ¶¨Ïûê',
                                    content: review.pendingSecondReply.text,
                                    createdAt: new Date().toISOString(),
                                    isAuto: true
                                };
                                
                                if (!review.replies) {
                                    review.replies = [];
                                }
                                review.replies.push(secondReply);
                                delete review.pendingSecondReply;
                                git2HasChanges = true;
                            }
                        }
                    }
                });
                
                if (git2HasChanges && git2UserId) {
                    localStorage.setItem(`git2_reviews_${git2UserId}`, JSON.stringify(git2Reviews));
                }
            }
            
            if (hasChanges || git2HasChanges) {
                updatePendingCount();
            }
        }
        
        // 2Ï∞® ÎãµÍ∏Ä Ïä§ÏºÄÏ§ÑÎßÅ Ìï®Ïàò (ÏùºÎ∞ò Î¶¨Î∑∞)
        function scheduleSecondReply(review) {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const secondReplyDelay = localStorage.getItem(`secondReplyDelay_${userId}`);
            const secondReplyText = localStorage.getItem(`secondReplyText_${userId}`);
            const storeSecondReplies = JSON.parse(localStorage.getItem(`storeSecondReplies_${userId}`) || '{}');
            
            if (!secondReplyDelay || !secondReplyText) {
                return;
            }
            
            const delayMinutes = parseInt(secondReplyDelay);
            if (!delayMinutes || delayMinutes <= 0) {
                return;
            }
            
            review.pendingSecondReply = {
                text: secondReplyText.trim(),
                delayMinutes: delayMinutes,
                scheduledTime: Date.now() + (delayMinutes * 60 * 1000)
            };
        }
        
        // 2Ï∞® ÎãµÍ∏Ä Ïä§ÏºÄÏ§ÑÎßÅ Ìï®Ïàò (git2 Î¶¨Î∑∞)
        function scheduleSecondReplyForGit2(review) {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const secondReplyDelay = localStorage.getItem(`secondReplyDelay_${userId}`);
            const storeSecondReplies = JSON.parse(localStorage.getItem(`storeSecondReplies_${userId}`) || '{}');
            const secondReplyText = localStorage.getItem(`secondReplyText_${userId}`);
            
            if (!secondReplyDelay) {
                return;
            }
            
            const delayMinutes = parseInt(secondReplyDelay);
            if (!delayMinutes || delayMinutes <= 0) {
                return;
            }
            
            // Í∞ÄÍ≤åÎ≥Ñ Î¨∏Íµ¨Í∞Ä ÏûàÏúºÎ©¥ Ïö∞ÏÑ† ÏÇ¨Ïö©, ÏóÜÏúºÎ©¥ Ï†ÑÏ≤¥ Î¨∏Íµ¨ ÏÇ¨Ïö©
            const text = storeSecondReplies[review.storeId] || secondReplyText;
            if (!text) {
                return;
            }
            
            review.pendingSecondReply = {
                text: text.trim(),
                delayMinutes: delayMinutes,
                scheduledTime: Date.now() + (delayMinutes * 60 * 1000)
            };
        }
        
        // ÌïÑÌÑ∞ ÏÑ§Ï†ï Ìï®Ïàò
        function setFilter(filterType) {
            currentFilter = filterType;
            
            // Î≤ÑÌäº ÌôúÏÑ±Ìôî ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.getElementById('filterAll').classList.remove('active');
            document.getElementById('filterPending').classList.remove('active');
            
            if (filterType === 'all') {
                document.getElementById('filterAll').classList.add('active');
            } else {
                document.getElementById('filterPending').classList.add('active');
            }
            
            // Î¶¨Î∑∞ Îã§Ïãú Î°úÎìú
            loadReviews();
        }
        
        // Î¶¨Î∑∞ Î°úÎìú Ìï®Ïàò
        function loadReviews() {
            // Î®ºÏ†Ä ÏßÄÏó∞Îêú ÏûêÎèô ÎãµÍ∏Ä Ï≤¥ÌÅ¨
            checkPendingAutoReplies();
            
            const container = document.getElementById('reviewsContainer');
            
            // Î©îÏù∏ Î°úÍ∑∏Ïù∏Í≥º Î∞∞Îã¨ÏùòÎØºÏ°± Î°úÍ∑∏Ïù∏ ÌôïÏù∏
            const mainUser = localStorage.getItem('currentUser');
            let mainUserId = null;
            let connectedStores = [];
            let git2UserId = null;
            
            if (mainUser) {
                const mainUserObj = JSON.parse(mainUser);
                mainUserId = mainUserObj.id;
                const git2User = localStorage.getItem(`git2_currentUser_${mainUserId}`);
                
                if (git2User) {
                    const git2UserObj = JSON.parse(git2User);
                    git2UserId = git2UserObj.id;
                    connectedStores = JSON.parse(localStorage.getItem(`so4_connectedStores_${mainUserObj.id}_${git2UserObj.id}`) || '[]');
                }
            }
            
            // localStorageÏóêÏÑú Î¶¨Î∑∞ Í∞ÄÏ†∏Ïò§Í∏∞ (Î©îÏù∏ ÏïÑÏù¥ÎîîÎ≥ÑÎ°ú Î∂ÑÎ¶¨)
            const storedReviews = mainUserId ? localStorage.getItem(`reviews_${mainUserId}`) : null;
            const storedGit2Reviews = git2UserId ? localStorage.getItem(`git2_reviews_${git2UserId}`) : null;
            
            let reviews = [];
            
            // ÏùºÎ∞ò Î¶¨Î∑∞ Î°úÎìú
            if (storedReviews) {
                const parsedReviews = JSON.parse(storedReviews);
                reviews = reviews.concat(parsedReviews);
            }
            
            // Ïó∞Í≤∞Îêú Í∞ÄÍ≤åÏùò Î¶¨Î∑∞ Î°úÎìú (git2)
            if (storedGit2Reviews && connectedStores.length > 0) {
                const parsedGit2Reviews = JSON.parse(storedGit2Reviews);
                const filteredGit2Reviews = parsedGit2Reviews.filter(review => 
                    connectedStores.includes(review.storeId)
                );
                reviews = reviews.concat(filteredGit2Reviews);
            }
            
            // Î¶¨Î∑∞Í∞Ä ÏóÜÏúºÎ©¥
            if (reviews.length === 0) {
                container.innerHTML = '<div class="empty-message">ÏïÑÏßÅ ÏûëÏÑ±Îêú Î¶¨Î∑∞Í∞Ä ÏóÜÏäµÎãàÎã§.</div>';
                return;
            }
            
            // ÌïÑÌÑ∞ Ï†ÅÏö©
            if (currentFilter === 'pending') {
                // ÎãµÍ∏ÄÏù¥ ÏóÜÍ±∞ÎÇò, ÏûêÎèô ÎãµÍ∏ÄÏù¥ ÏïÑÏßÅ Îã¨Î¶¨ÏßÄ ÏïäÏùÄ Î¶¨Î∑∞Îßå ÌëúÏãú
                reviews = reviews.filter(review => {
                    const hasReplies = review.replies && review.replies.length > 0;
                    const hasPendingAutoReply = review.pendingAutoReply && Date.now() < review.pendingAutoReply.scheduledTime;
                    return !hasReplies || hasPendingAutoReply;
                });
            }
            
            // ÏãúÍ∞ÑÏàú Ï†ïÎ†¨ (ÏµúÏã†Ïàú)
            reviews.sort((a, b) => {
                const aTime = a.createdAt ? new Date(a.createdAt).getTime() : a.timestamp || 0;
                const bTime = b.createdAt ? new Date(b.createdAt).getTime() : b.timestamp || 0;
                return bTime - aTime;
            });
            
            if (reviews.length === 0) {
                container.innerHTML = '<div class="empty-message">Ï°∞Í±¥Ïóê ÎßûÎäî Î¶¨Î∑∞Í∞Ä ÏóÜÏäµÎãàÎã§.</div>';
                return;
            }
            
            // Î¶¨Î∑∞ Î™©Î°ù ÏÉùÏÑ±
            let reviewsHTML = '';
            reviews.forEach(review => {
                // Î≥ÑÏ†ê ÌëúÏãú
                let starsHTML = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= review.rating) {
                        starsHTML += '<span class="star">‚òÖ</span>';
                    } else {
                        starsHTML += '<span class="star" style="color: #ddd;">‚òÖ</span>';
                    }
                }
                
                // ÎãµÍ∏Ä Î™©Î°ù ÏÉùÏÑ±
                let repliesHTML = '';
                if (review.replies && review.replies.length > 0) {
                    review.replies.forEach(reply => {
                        // git2 Î¶¨Î∑∞Ïù∏ Í≤ΩÏö∞ userNameÍ≥º createdAt ÏÇ¨Ïö©
                        const replyAuthor = reply.author || reply.userName;
                        const replyDate = reply.date || (reply.createdAt ? new Date(reply.createdAt).toLocaleString('ko-KR') : '');
                        const replyContent = (reply.content || '').replace(/\n/g, '<br>');
                        
                        repliesHTML += `
                            <div class="reply-item">
                                <div class="reply-header">
                                    <span class="reply-author">üë§ ${replyAuthor}</span>
                                    <span class="reply-date">${replyDate}</span>
                                </div>
                                <div class="reply-content">${replyContent}</div>
                            </div>
                        `;
                    });
                }
                
                // ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ
                const reviewDate = review.date || (review.createdAt ? new Date(review.createdAt).toLocaleString('ko-KR') : 'ÎÇ†Ïßú Ï†ïÎ≥¥ ÏóÜÏùå');
                
                // Í∞ÄÍ≤åÎ™Ö ÌëúÏãú (git2 Î¶¨Î∑∞Ïù∏ Í≤ΩÏö∞)
                const storeNameInfo = review.storeName ? `<div style="color: #667eea; font-weight: 600; margin-bottom: 5px;">üè™ ${review.storeName}</div>` : '';
                
                // ÏÜåÏä§ Íµ¨Î∂Ñ (ÏùºÎ∞ò Î¶¨Î∑∞Ïù∏ÏßÄ git2 Î¶¨Î∑∞Ïù∏ÏßÄ)
                const isGit2Review = !!review.storeName;
                
                reviewsHTML += `
                    <div class="review-item">
                        <div class="review-header">
                            <div class="review-rating">
                                ${starsHTML}
                            </div>
                            <div class="review-date">${reviewDate}</div>
                        </div>
                        ${storeNameInfo}
                        <div class="review-content">${review.content}</div>
                        <div class="reply-section">
                            <div class="reply-list">
                                ${repliesHTML}
                            </div>
                            <div class="reply-form">
                                <textarea id="replyText_${review.id}" placeholder="ÎãµÍ∏ÄÏùÑ ÏûëÏÑ±ÌïòÏÑ∏Ïöî..."></textarea>
                                <button class="reply-btn" onclick="addReply('${review.id}', ${isGit2Review})">ÎãµÍ∏Ä</button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = reviewsHTML;
            
            // Îì±Î°ùÎåÄÍ∏∞ Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏
            updatePendingCount();
        }
        
        // ÎãµÍ∏Ä Ï∂îÍ∞Ä Ìï®Ïàò
        function addReply(reviewId, isGit2Review) {
            const replyTextArea = document.getElementById(`replyText_${reviewId}`);
            const replyContent = replyTextArea.value.trim();
            
            if (replyContent === '') {
                alert('ÎãµÍ∏Ä ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            // ÎãµÍ∏Ä Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
            const replyData = {
                id: Date.now(),
                author: 'Í¥ÄÎ¶¨Ïûê',
                content: replyContent,
                date: new Date().toLocaleString('ko-KR')
            };
            
            if (isGit2Review) {
                // git2 Î¶¨Î∑∞Ïù∏ Í≤ΩÏö∞
                const mainUser = localStorage.getItem('currentUser');
                if (!mainUser) return;
                const mainUserObj = JSON.parse(mainUser);
                const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
                if (!git2User) return;
                
                const git2UserObj = JSON.parse(git2User);
                const storedGit2Reviews = localStorage.getItem(`git2_reviews_${git2UserObj.id}`);
                if (!storedGit2Reviews) return;
                
                const git2Reviews = JSON.parse(storedGit2Reviews);
                
                // Ìï¥Îãπ Î¶¨Î∑∞ Ï∞æÍ∏∞
                const review = git2Reviews.find(r => r.id === reviewId);
                if (!review) return;
                
                // ÎãµÍ∏Ä Ï∂îÍ∞Ä
                if (!review.replies) {
                    review.replies = [];
                }
                review.replies.push(replyData);
                
                // localStorageÏóê Ï†ÄÏû•
                localStorage.setItem(`git2_reviews_${git2UserObj.id}`, JSON.stringify(git2Reviews));
            } else {
                // ÏùºÎ∞ò Î¶¨Î∑∞Ïù∏ Í≤ΩÏö∞
                const mainUser = localStorage.getItem('currentUser');
                if (!mainUser) return;
                
                const mainUserObj = JSON.parse(mainUser);
                const storedReviews = localStorage.getItem(`reviews_${mainUserObj.id}`);
                if (!storedReviews) return;
                
                const reviews = JSON.parse(storedReviews);
                
                // Ìï¥Îãπ Î¶¨Î∑∞ Ï∞æÍ∏∞
                const review = reviews.find(r => r.id == reviewId);
                if (!review) return;
                
                // ÎãµÍ∏Ä Ï∂îÍ∞Ä
                if (!review.replies) {
                    review.replies = [];
                }
                review.replies.push(replyData);
                
                // localStorageÏóê Ï†ÄÏû• (Î©îÏù∏ ÏïÑÏù¥ÎîîÎ≥ÑÎ°ú Î∂ÑÎ¶¨)
                localStorage.setItem(`reviews_${mainUserObj.id}`, JSON.stringify(reviews));
            }
            
            // UI ÏÉàÎ°úÍ≥†Ïπ®
            loadReviews();
            updatePendingCount();
            
            alert('ÎãµÍ∏ÄÏù¥ ÏûëÏÑ±ÎêòÏóàÏäµÎãàÎã§!');
        }
        
        // ÏûêÎèô ÎãµÍ∏Ä Í≥†Ï†ï Î¨∏Íµ¨ Ï†ÄÏû• Ìï®Ïàò
        function saveAutoReply() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) {
                alert('Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.');
                return;
            }
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) {
                alert('Î∞∞Îã¨ÏùòÎØºÏ°± Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.');
                return;
            }
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const autoReplyText = document.getElementById('autoReplyText').value.trim();
            const selectedStore = document.getElementById('storeSelect').value;
            
            if (autoReplyText === '') {
                alert('ÎãµÍ∏Ä Î¨∏Íµ¨Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (selectedStore === 'ALL') {
                // Ï†ÑÏ≤¥ Í∞ÄÍ≤åÏö©
                localStorage.setItem(`autoReplyText_${userId}`, autoReplyText);
            } else {
                // ÌäπÏ†ï Í∞ÄÍ≤åÏö©
                const storeAutoReplies = JSON.parse(localStorage.getItem(`storeAutoReplies_${userId}`) || '{}');
                storeAutoReplies[selectedStore] = autoReplyText;
                localStorage.setItem(`storeAutoReplies_${userId}`, JSON.stringify(storeAutoReplies));
            }
            
            document.getElementById('currentSetting').textContent = autoReplyText;
            document.getElementById('autoReplyText').value = '';
            alert('ÏûêÎèô ÎãµÍ∏Ä Î¨∏Íµ¨Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!');
        }
        
        // ÏûêÎèô ÎãµÍ∏Ä Í≥†Ï†ï Î¨∏Íµ¨ Î°úÎìú Ìï®Ïàò
        function loadStoreAutoReply() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const selectedStore = document.getElementById('storeSelect').value;
            
            if (selectedStore === 'ALL') {
                const storedAutoReply = localStorage.getItem(`autoReplyText_${userId}`);
                document.getElementById('currentSetting').textContent = storedAutoReply || 'ÏóÜÏùå';
            } else {
                const storeAutoReplies = JSON.parse(localStorage.getItem(`storeAutoReplies_${userId}`) || '{}');
                document.getElementById('currentSetting').textContent = storeAutoReplies[selectedStore] || 'ÏóÜÏùå';
            }
        }
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÏûêÎèô ÎãµÍ∏Ä Î¨∏Íµ¨ Î°úÎìú
        function loadAutoReply() {
            loadStoreAutoReply();
        }
        
        // Í∞ÄÍ≤å Î™©Î°ù Î°úÎìú Ìï®Ïàò
        function loadStoreList() {
            // Î©îÏù∏ Î°úÍ∑∏Ïù∏Í≥º Î∞∞Îã¨ÏùòÎØºÏ°± Î°úÍ∑∏Ïù∏ ÌôïÏù∏ (Îëò Îã§ ÌïÑÏàò)
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) {
                return; // Î©îÏù∏ Î°úÍ∑∏Ïù∏Ïù¥ ÏóÜÏúºÎ©¥ Í∞ÄÍ≤å Î™©Î°ù ÌëúÏãú Ïïà Ìï®
            }
            
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            
            if (!git2User) {
                return; // Î∞∞Îã¨ÏùòÎØºÏ°± Î°úÍ∑∏Ïù∏Ïù¥ ÏóÜÏúºÎ©¥ Í∞ÄÍ≤å Î™©Î°ù ÌëúÏãú Ïïà Ìï®
            }
            
            // Î©îÏù∏ ÏïÑÏù¥Îîî + Î∞∞Îã¨ÏùòÎØºÏ°± ÏïÑÏù¥Îîî Ï°∞Ìï©ÏúºÎ°ú Ï†ÄÏû•/Ï°∞Ìöå
            const git2UserObj = JSON.parse(git2User);
            const connectedStores = JSON.parse(localStorage.getItem(`so4_connectedStores_${mainUserObj.id}_${git2UserObj.id}`) || '[]');
            // Î∞∞Îã¨ÏùòÎØºÏ°± ÏïÑÏù¥ÎîîÎ≥Ñ Í∞ÄÍ≤å Î™©Î°ù Ï°∞Ìöå
            const allStores = JSON.parse(localStorage.getItem(`git2_stores_${git2UserObj.id}`) || '[]');
            const select = document.getElementById('storeSelect');
            
            // Í∏∞Ï°¥ ÏòµÏÖò Ï†úÍ±∞ (Ï†ÑÏ≤¥ Í∞ÄÍ≤å Ï†úÏô∏)
            while (select.options.length > 1) {
                select.remove(1);
            }
            
            // Ïó∞Í≤∞Îêú Í∞ÄÍ≤åÎßå Ï∂îÍ∞Ä
            connectedStores.forEach(storeId => {
                const store = allStores.find(s => s.id === storeId);
                if (store) {
                    const option = document.createElement('option');
                    option.value = storeId;
                    option.textContent = store.name;
                    select.appendChild(option);
                }
            });
        }
        
        // ÏûêÎèô ÎãµÍ∏Ä ÌÜ†Í∏Ä Ìï®Ïàò
        function toggleAutoReply() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const toggle = document.getElementById('autoReplyToggle');
            const status = document.getElementById('toggleStatus');
            
            if (toggle.checked) {
                status.textContent = 'ON';
                status.classList.remove('inactive');
                status.classList.add('active');
                localStorage.setItem(`autoReplyEnabled_${userId}`, 'true');
            } else {
                status.textContent = 'OFF';
                status.classList.remove('active');
                status.classList.add('inactive');
                localStorage.setItem(`autoReplyEnabled_${userId}`, 'false');
            }
        }
        
        // ÏûêÎèô ÎãµÍ∏Ä ÌÜ†Í∏Ä ÏÉÅÌÉú Î°úÎìú Ìï®Ïàò
        function loadToggleState() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const enabled = localStorage.getItem(`autoReplyEnabled_${userId}`);
            const toggle = document.getElementById('autoReplyToggle');
            const status = document.getElementById('toggleStatus');
            
            if (enabled === 'true') {
                toggle.checked = true;
                status.textContent = 'ON';
                status.classList.remove('inactive');
                status.classList.add('active');
            } else {
                toggle.checked = false;
                status.textContent = 'OFF';
                status.classList.remove('active');
                status.classList.add('inactive');
            }
        }
        
        // Í∞êÏ†ï Í∏∞Î∞ò ÏûêÎèô ÎãµÍ∏Ä ÌÜ†Í∏Ä Ìï®Ïàò
        function toggleAIReply() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const toggle = document.getElementById('aiReplyToggle');
            const status = document.getElementById('aiToggleStatus');
            
            if (toggle.checked) {
                status.textContent = 'ON';
                status.classList.remove('inactive');
                status.classList.add('active');
                localStorage.setItem(`aiReplyEnabled_${userId}`, 'true');
            } else {
                status.textContent = 'OFF';
                status.classList.remove('active');
                status.classList.add('inactive');
                localStorage.setItem(`aiReplyEnabled_${userId}`, 'false');
            }
        }
        
        // Í∞êÏ†ï Í∏∞Î∞ò ÏûêÎèô ÎãµÍ∏Ä ÌÜ†Í∏Ä ÏÉÅÌÉú Î°úÎìú Ìï®Ïàò
        function loadAIToggleState() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const enabled = localStorage.getItem(`aiReplyEnabled_${userId}`);
            const toggle = document.getElementById('aiReplyToggle');
            const status = document.getElementById('aiToggleStatus');
            
            if (enabled === 'true') {
                toggle.checked = true;
                status.textContent = 'ON';
                status.classList.remove('inactive');
                status.classList.add('active');
            } else {
                toggle.checked = false;
                status.textContent = 'OFF';
                status.classList.remove('active');
                status.classList.add('inactive');
            }
        }
        
        // ÏßÄÏó∞ ÏãúÍ∞Ñ ÏÑ†ÌÉù Ìï®Ïàò
        function selectDelay(minutes) {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            // Î™®Îì† Î≤ÑÌäºÏùò ÏÑ†ÌÉù ÏÉÅÌÉú Ï†úÍ±∞
            const buttons = document.querySelectorAll('.delay-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            // ÏÑ†ÌÉùÎêú Î≤ÑÌäº Ï∞æÏïÑÏÑú selected ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
            buttons.forEach(btn => {
                if (btn.getAttribute('data-minutes') == minutes) {
                    btn.classList.add('selected');
                }
            });
            
            // localStorageÏóê Ï†ÄÏû• (Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôò)
            localStorage.setItem(`autoReplyDelay_${userId}`, String(minutes));
            
            // UI ÏóÖÎç∞Ïù¥Ìä∏
            if (minutes === 0) {
                document.getElementById('selectedDelay').textContent = 'ÏßÄÏó∞ÏãúÍ∞Ñ ÏóÜÏùå';
            } else {
                document.getElementById('selectedDelay').textContent = minutes + 'Î∂Ñ';
            }
        }
        
        // ÏßÄÏó∞ ÏãúÍ∞Ñ ÏÉÅÌÉú Î°úÎìú Ìï®Ïàò
        function loadDelayState() {
            const mainUser = localStorage.getItem('currentUser');
            if (!mainUser) return;
            const mainUserObj = JSON.parse(mainUser);
            const git2User = localStorage.getItem(`git2_currentUser_${mainUserObj.id}`);
            if (!git2User) return;
            const git2UserObj = JSON.parse(git2User);
            const userId = git2UserObj.id;
            
            const delay = localStorage.getItem(`autoReplyDelay_${userId}`);
            const buttons = document.querySelectorAll('.delay-btn');
            
            if (delay !== null) {
                buttons.forEach(btn => {
                    if (parseInt(btn.getAttribute('data-minutes')) === parseInt(delay)) {
                        btn.classList.add('selected');
                    }
                });
                
                if (delay === '0') {
                    document.getElementById('selectedDelay').textContent = 'ÏßÄÏó∞ÏãúÍ∞Ñ ÏóÜÏùå';
                } else {
                    document.getElementById('selectedDelay').textContent = delay + 'Î∂Ñ';
                }
            }
        }
        
        // Îì±Î°ùÎåÄÍ∏∞ Î¶¨Î∑∞ Í∞úÏàò Í≥ÑÏÇ∞ Ìï®Ïàò
        function updatePendingCount() {
            // Î©îÏù∏ Î°úÍ∑∏Ïù∏Í≥º Î∞∞Îã¨ÏùòÎØºÏ°± Î°úÍ∑∏Ïù∏ ÌôïÏù∏
            const mainUser = localStorage.getItem('currentUser');
            let mainUserId = null;
            let connectedStores = [];
            let git2UserId = null;
            
            if (mainUser) {
                const mainUserObj = JSON.parse(mainUser);
                mainUserId = mainUserObj.id;
                const git2User = localStorage.getItem(`git2_currentUser_${mainUserId}`);
                
                if (git2User) {
                    const git2UserObj = JSON.parse(git2User);
                    git2UserId = git2UserObj.id;
                    connectedStores = JSON.parse(localStorage.getItem(`so4_connectedStores_${mainUserObj.id}_${git2UserObj.id}`) || '[]');
                }
            }
            
            const storedReviews = mainUserId ? localStorage.getItem(`reviews_${mainUserId}`) : null;
            const storedGit2Reviews = git2UserId ? localStorage.getItem(`git2_reviews_${git2UserId}`) : null;
            
            let allReviews = [];
            
            // ÏùºÎ∞ò Î¶¨Î∑∞ Î°úÎìú
            if (storedReviews) {
                const parsedReviews = JSON.parse(storedReviews);
                allReviews = allReviews.concat(parsedReviews);
            }
            
            // Ïó∞Í≤∞Îêú Í∞ÄÍ≤åÏùò Î¶¨Î∑∞ Î°úÎìú (git2)
            if (storedGit2Reviews && connectedStores.length > 0) {
                const parsedGit2Reviews = JSON.parse(storedGit2Reviews);
                const filteredGit2Reviews = parsedGit2Reviews.filter(review => 
                    connectedStores.includes(review.storeId)
                );
                allReviews = allReviews.concat(filteredGit2Reviews);
            }
            
            if (allReviews.length === 0) {
                document.getElementById('pendingCount').textContent = '';
                return;
            }
            
            const pendingReviews = allReviews.filter(review => {
                const hasReplies = review.replies && review.replies.length > 0;
                const hasPendingAutoReply = review.pendingAutoReply && Date.now() < review.pendingAutoReply.scheduledTime;
                return !hasReplies || hasPendingAutoReply;
            });
            
            const count = pendingReviews.length;
            if (count > 0) {
                document.getElementById('pendingCount').textContent = '(' + count + ')';
            } else {
                document.getElementById('pendingCount').textContent = '';
            }
        }
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Î¶¨Î∑∞ ÌëúÏãú Î∞è ÏûêÎèô ÎãµÍ∏Ä Î¨∏Íµ¨, ÌÜ†Í∏Ä ÏÉÅÌÉú, ÏßÄÏó∞ ÏãúÍ∞Ñ Î°úÎìú
        loadStoreList();
        loadReviews();
        loadAutoReply();
        loadToggleState();
        loadAIToggleState();
        loadDelayState();
        updatePendingCount();
    </script>
</body>
</html>

